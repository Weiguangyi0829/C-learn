<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script>




    //-----解构赋值

    const test1 = {
        name: 't1',
        id: '01',
        fuc: function () {
            // console.log("1.解构赋值");
        }
    }
    let { name, id, fuc } = test1;
    //console.log(name);
    //console.log(fuc);
    fuc();


    //-----箭头函数
    function getName() {
        //console.log(this.name);
    }
    let getName2 = () => {
        // console.log(this.name);
    }

    window.name = 'test2';
    const test2 = {
        name: '02'
    }

    getName.call(test2);
    getName2.call(test2);
    //()=>
    //不能成为构造实例化对象
    //不能使用arguments变量


    //-----迭代器

    const xiyou = {
        name: "西游",
        list: ['唐僧', '孙悟空', '猪八戒', '沙僧'],
        [Symbol.iterator]() {
            let i = 0;
            // let _this = this;
            return {
                next: () => {
                    if (i < this.list.length) {
                        const result = { value: this.list[i], done: false };
                        i++;
                        return result;
                    } else {
                        return { value: undefined, done: true }
                    }
                }
            }
        }

    }
    for (let v of xiyou) {
        // console.log(v);
    }



    //-----生成器

    //回调地狱
    /* setTimeout(() => {
        console.log(111);
        setTimeout(() => {
            console.log(222);
            setTimeout(() => {
                console.log(333);
            }, 1000);
        }, 1000);
    }, 1000); */
    function one() {
        setTimeout(() => {
            console.log(111);
            iterator.next();
        }, 1000)
    }
    function two() {
        setTimeout(() => {
            console.log(222);
            iterator.next();
        }, 1000)
    }
    function three() {
        setTimeout(() => {
            console.log(333);
            iterator.next();
        }, 1000)
    }
    function* gen() {
        yield one();
        yield two();
        yield three();
    }
    //调用生成器函数
    let iterator = gen();
    iterator.next();





    //-----Set

    //去重
    let arr = [1, 2, 3, 5, 4, 6, 5, 2, 1, 3, 2, 1, 2];
    let arr2 = [4, 5, 2, 2, 3, 12]
    // let result = [...new Set(arr)];

    //交集
    let result = [...new Set(arr)].filter((item) => new Set(arr2).has(item))
    // console.log(result);





    //-----class


    //es5
    function Phone1(brand, price) {
        this.brand = brand;
        this.price = price;
    }
    //添加方法
    Phone1.prototype.call = function () {
        console.log("01打电话！！");
    }
    //实例化对象
    let Huawei = new Phone1('华为', '5999')
    // Huawei.call();
    console.log(Huawei);


    //es6
    class Phone2 {
        //构造方法
        constructor(brand, price) {
            this.brand = brand;
            this.price = price;
        }

        call() {
            console.log("打电话！！");
        }
    }

    let onePlus = new Phone2("1+", "2999");
    console.log(onePlus);

    class Phone2_1 extends Phone2 {
        constructor(brand, price, color, size) {
            super(brand, price);//调用父类Phone2的constructor
            this.color = color;
            this.size = size;
        }
        photo() {
            console.log("拍照");
        }
        playgame() {
            console.log("玩游戏");
        }
    }

    const xiaomi = new Phone2_1('xiaomi', 3999, 'black', '4.7inch');
    // xiaomi.call();
    // xiaomi.photo();
    // xiaomi.playgame();
    console.log(xiaomi);





    //-----对象合并
    const config1 = {
        host: 'localhost',
        port: 8080,
        name: '123',
        psw1: '123'
    }

    const config2 = {
        host: 'localhost',
        port: 3030,
        name: '456',
        psw2: '456'
    }
    console.log(Object.assign(config1, config2));//后面的参数覆盖前面的

















</script>

<body>

</body>

</html>